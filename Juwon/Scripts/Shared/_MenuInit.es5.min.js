"use strict";var substringMenuLv1="000",substringMenuLv2="000",substringMenuLv3="000",MenuLevel_1=[],MenuLevel_2=[],MenuLevel_3=[],MenuLevel_4=[],SessionData=undefined,ssd=undefined;$(document).ready(function(){function n(n){var rt=undefined,ut=!0,dt=!1,gt=undefined,s,ni,ft,f,e,h,ti,c,et,ot,l,ii,ri,a,st,ht,v,ui,fi,y,ei,u,p,w,b,k,ct,lt,d,oi,si,g,at,vt,nt,hi,ci,tt,yt,pt,it,li,ai;try{for(s=n[Symbol.iterator]();!(ut=(ni=s.next()).done);ut=!0)if(u=ni.value,u.MenuLevel==2){rt=u.MenuOrderly;break}}catch(wt){dt=!0;gt=wt}finally{try{!ut&&s["return"]&&s["return"]()}finally{if(dt)throw gt;}}ft=0;n.forEach(function(n){var t=undefined,i,r;t=n.MenuOrderly;t>ft&&t<1e3&&(ft=t,i=n.MenuOrderly,MenuLevel_1.push(i),r='<a class="nav-item menubar  menu-detail" data-focus="'+n.MultiLang+'" data-levelmenu_1="'+i+'" data-Code="'+n.Code+'">\n                                    '+n.MultiLang+'\n<span class="menubar menu-init" data-subfocus="'+n.MultiLang+'" ><\/span>\n                            <\/a>',$(".topnav").append(r))});f=function(i){$(".side-menu-item").empty();var r=0;MenuLevel_2=[];n.forEach(function(n){var f=n.MenuLevel2Orderly,u;n.MenuOrderly===i&&f>r&&(r=f,u=n.MenuLevel2Orderly,MenuLevel_2.push(u),$(".side-menu-item").append('<li class="nav-item has-treeview submenu-detail" data-levelmenu_2="'+u+'" data-Code="'+n.Code+'">\n\n<a href = "#" class="nav-link collapsed" data-toggle="collapse" data-target="#collapse_'+u+'" aria-expanded="false" aria-controls="collapse_'+u+'">\n\n<i class="fas '+t[r-1]+'"><\/i>\n<span class="text-white"  data-level2="'+n.Code+'" style="padding-left:3px">'+n.MultiLang+'<\/span>\n<\/a>\n\n<\/li>\n<hr class= "sidebar-divider"/>'))})};e=function(t){for(var i,u=MenuLevel_2.length,f=function(r){i=0;MenuLevel_3=[];$('[data-levelmenu_2="'+MenuLevel_2[r]+'"]').append('<div id = "collapse_'+MenuLevel_2[r]+'" class= "collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">\n<div class="bg-white py-2 collapse-inner rounded">\n<p><\/p>');n.forEach(function(n){var u=n.MenuLevel3Orderly,f;n.MenuOrderly===t&&n.MenuLevel2Orderly==MenuLevel_2[r]&&u>i&&(i=u,f=n.MenuLevel3Orderly,MenuLevel_3.push(f),$('[data-levelmenu_2="'+MenuLevel_2[r]+'"]>div>div').append('<a href="'+n.Link+'" class="collapse-item" data-Code="'+n.Code+' data-levelmenu_3=" '+u+'">\n<p class="level3" style="padding-left:7px">'+n.MultiLang+"<\/p>\n<\/a> "))});i=0},r=0;r<u;r++)f(r)};f(rt);e(rt);var o=$("#current_menu").data("level_1"),i=$("#current_menu").data("level_2"),r=$("#current_menu").data("level_3");$("#current_menu").html('<small style="font-size: 14px;"><i class="fa fa-dashboard"><\/i>'+o+"  >  "+i+"  >  "+r+"<\/small>");$("div>nav>ul>li>a").has('p:contains("'+i+'")').each(function(){$(this).text()===i&&$(this).addClass("active")});$("div>nav>ul>li>ul>li>a").has('p:contains("'+r+'")').each(function(){$(this).text()===r&&$(this).addClass("active")});$(".menu-detail").click(function(){var n=$(this).data("levelmenu_1"),t;f(n);e(n);t=$(this).data("focus");$(".menubar").each(function(){$(this).data("subfocus")===t&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))})});switch(o){case"MMS":var bt=!0,vi=!1,yi=undefined;try{for(h=n[Symbol.iterator]();!(bt=(ti=h.next()).done);bt=!0)if(u=ti.value,u.FullName=="MMS"){f(u.MenuOrderly);e(u.MenuOrderly);break}}catch(wt){vi=!0;yi=wt}finally{try{!bt&&h["return"]&&h["return"]()}finally{if(vi)throw yi;}}p=$("div>li>a").has('span:contains("'+i+'")');w=p.attr("data-target");$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(w).addClass("show");$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")});b=o;$(".menubar").each(function(){$(this).data("subfocus")==b&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))});break;case"WMS":if(ri=function(){var t,u,s,h;c=!0;et=!1;ot=undefined;try{for(l=n[Symbol.iterator]();!(c=(ii=l.next()).done);c=!0)if(t=ii.value,t.FullName=="WMS"){f(t.MenuOrderly);e(t.MenuOrderly);break}}catch(a){et=!0;ot=a}finally{try{!c&&l["return"]&&l["return"]()}finally{if(et)throw ot;}}return u=$("div>li>a").has('span:contains("'+i+'")'),s=u.attr("data-target"),$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(s).addClass("show"),$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")}),h=o,$(".menubar").each(function(){$(this).data("subfocus")==h&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))}),"break"}(),ri==="break")break;case"QMS":if(fi=function(){var t,u,s,h;a=!0;st=!1;ht=undefined;try{for(v=n[Symbol.iterator]();!(a=(ui=v.next()).done);a=!0)if(t=ui.value,t.FullName=="QMS"){f(t.MenuOrderly);e(t.MenuOrderly);break}}catch(c){st=!0;ht=c}finally{try{!a&&v["return"]&&v["return"]()}finally{if(st)throw ht;}}return u=$("div>li>a").has('span:contains("'+i+'")'),s=u.attr("data-target"),$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(s).addClass("show"),$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")}),h=o,$(".menubar").each(function(){$(this).data("subfocus")==h&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))}),"break"}(),fi==="break")break;case"Monitor":var kt=!0,pi=!1,wi=undefined;try{for(y=n[Symbol.iterator]();!(kt=(ei=y.next()).done);kt=!0)if(u=ei.value,u.FullName=="Monitor"){f(u.MenuOrderly);e(u.MenuOrderly);break}}catch(wt){pi=!0;wi=wt}finally{try{!kt&&y["return"]&&y["return"]()}finally{if(pi)throw wi;}}p=$("div>li>a").has('span:contains("'+i+'")');w=p.attr("data-target");$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(w).addClass("show");$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")});b=o;$(".menubar").each(function(){$(this).data("subfocus")==b&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))});break;case"Standard":if(si=function(){var t,u,s,h;k=!0;ct=!1;lt=undefined;try{for(d=n[Symbol.iterator]();!(k=(oi=d.next()).done);k=!0)if(t=oi.value,t.FullName=="Standard"){f(t.MenuOrderly);e(t.MenuOrderly);break}}catch(c){ct=!0;lt=c}finally{try{!k&&d["return"]&&d["return"]()}finally{if(ct)throw lt;}}return u=$("div>li>a").has('span:contains("'+i+'")'),s=u.attr("data-target"),$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(s).addClass("show"),$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")}),h=o,$(".menubar").each(function(){$(this).data("subfocus")==h&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))}),"break"}(),si==="break")break;case"Cài đặt":if(ci=function(){var t,u,s,h;g=!0;at=!1;vt=undefined;try{for(nt=n[Symbol.iterator]();!(g=(hi=nt.next()).done);g=!0)if(t=hi.value,t.FullName=="Standard"){f(t.MenuOrderly);e(t.MenuOrderly);break}}catch(c){at=!0;vt=c}finally{try{!g&&nt["return"]&&nt["return"]()}finally{if(at)throw vt;}}return u=$("div>li>a").has('span:contains("'+i+'")'),s=u.attr("data-target"),$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(s).addClass("show"),$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")}),h=o,$(".menubar").each(function(){$(this).data("subfocus")==h&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))}),"break"}(),ci==="break")break;case"표준":if(ai=function(){var t,u,s,h;tt=!0;yt=!1;pt=undefined;try{for(it=n[Symbol.iterator]();!(tt=(li=it.next()).done);tt=!0)if(t=li.value,t.FullName=="Standard"){f(t.MenuOrderly);e(t.MenuOrderly);break}}catch(c){yt=!0;pt=c}finally{try{!tt&&it["return"]&&it["return"]()}finally{if(yt)throw pt;}}return u=$("div>li>a").has('span:contains("'+i+'")'),s=u.attr("data-target"),$("div>li").find("a").has('span:contains("'+i+'")')&&jQuery(s).addClass("show"),$("div.collapse-inner>a.collapse-item").has('p.level3:contains("'+r+'")').each(function(){var n=$(this).text().trim();n===r&&$(this).addClass("active")}),h=o,$(".menubar").each(function(){$(this).data("subfocus")==h&&($(".menubar").removeClass("menu-focus"),$(this).addClass("menu-focus"))}),"break"}(),ai==="break")break}}var t=["fa-tachometer-alt","fa-wrench","fa-anchor","fa-cogs","fa-th","fa-database","fa-retweet","fa-shield","fa-suitcase","fa-recycle","fa-bookmark-o","fa-bolt","fa-diamond","fa-flask"];ssd=JSON.parse(window.localStorage.getItem("userSession"));ssd?(SessionData=ssd,n(ssd.Menus),document.getElementById("username").innerHTML=ssd.Name):$.ajax({url:"/LoginBase/GetSessionData",type:"GET",datatype:"json",data:{}}).done(function(t){window.localStorage.setItem("userSession",JSON.stringify(t));SessionData=t;n(t.Menus);document.getElementById("username").innerHTML=t.Name})});$(document).on("click","menu-detail",function(){document.getElementById("keepMenuCode").value=$(this).data("Code")});$(document).on("click",".submenu-detail",function(){document.getElementById("keepMenuCode").value=$(this).data("code")});$(document).on("click",".nav-item",function(){document.getElementById("keepMenuCode").value=$(this).data("code")});$(document).on("click",".collapse-item",function(){document.getElementById("keepMenuCode").value=$(this).data("code")});$(document).on("click",".has-treeview",function(){document.getElementById("keepMenuCode").value=$(this).data("Code")});